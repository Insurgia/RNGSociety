:root {
  --bg: #0b0f16; --panel: #131a25; --input: #1a2231; --border: #273247; --text: #e8eef8; --muted: #8ea1bf; --cyan: #2fe8e0; --amber: #f3b03e; --green: #39e987; --red: #f45b5b;
}
* { box-sizing: border-box; }
body { margin: 0; min-height: 100vh; background: radial-gradient(circle at top, #0f1826 0%, var(--bg) 35%); color: var(--text); font-family: Rajdhani, system-ui, sans-serif; }
.app { max-width: 980px; margin: 0 auto; padding: 22px 14px 36px; }
.hidden { display: none !important; }
.topbar { display: grid; grid-template-columns: auto 1fr auto; gap: 10px; align-items: center; margin-bottom: 14px; }
.logo { width: 38px; height: 38px; display: grid; place-items: center; border: 2px solid var(--cyan); color: var(--cyan); border-radius: 8px; font: 900 16px Orbitron, sans-serif; }
.brand { margin: 0; color: var(--muted); letter-spacing: 0.2em; font-size: 0.72rem; text-transform: uppercase; }
h1 { margin: 0; font: 700 clamp(1rem, 2vw, 1.4rem) Orbitron, sans-serif; }
.build-tag { margin: 0; color: var(--cyan); border: 1px solid #2fe8e055; border-radius: 999px; padding: 3px 10px; font: 700 0.75rem Orbitron, sans-serif; }
.auth-row { display:grid; grid-template-columns: 1fr auto; gap:10px; align-items:center; }
.auth-form { display:flex; gap:8px; flex-wrap:wrap; }
.auth-form input { background:var(--input); border:1px solid var(--border); color:var(--text); border-radius:8px; padding:8px 10px; min-width:180px; }
.user-chip { border:1px solid var(--border); border-radius:999px; padding:4px 10px; color:var(--cyan); font-family:Orbitron,sans-serif; font-size:.72rem; }
.module-nav { display: flex; gap: 8px; margin-bottom: 12px; }
.module-btn { border: 1px solid var(--border); background: #121a27; color: var(--muted); border-radius: 999px; padding: 7px 14px; font: 700 0.82rem Orbitron, sans-serif; cursor: pointer; }
.module-btn.active { border-color: var(--cyan); color: var(--cyan); }
.pro-pill { background: #f3b03e24; border: 1px solid #f3b03e55; color: var(--amber); border-radius: 999px; padding: 1px 6px; margin-left: 6px; font-size: 0.63rem; }
.panel { background: #121a27de; border: 1px solid var(--border); border-radius: 12px; padding: 14px; margin-bottom: 12px; }
h2 { margin: 0 0 10px; color: var(--muted); text-transform: uppercase; letter-spacing: 0.09em; font-size: 0.85rem; }
.grid { display: grid; gap: 10px; }
.grid.two { grid-template-columns: repeat(2, minmax(0, 1fr)); }
.grid.three { grid-template-columns: repeat(3, minmax(0, 1fr)); margin-top: 10px; }
.field span { display: block; color: var(--muted); margin-bottom: 4px; font-size: 0.82rem; }
.field input, .field textarea, .field select { width: 100%; background: var(--input); border: 1px solid var(--border); border-radius: 10px; color: var(--text); padding: 11px 10px; outline: none; font: 700 1.03rem Orbitron, sans-serif; }
.field textarea { font-family: Rajdhani, sans-serif; min-height: 70px; font-size: .95rem; }
.field input:focus, .field textarea:focus, .field select:focus { border-color: var(--cyan); box-shadow: 0 0 0 3px #2fe8e024; }
.field.highlight span { color: var(--cyan); }
.ship-pill { display: grid; place-items: center; border: 1px solid #2fe8e049; border-radius: 999px; color: var(--cyan); background: #2fe8e014; font: 700 0.86rem Orbitron, sans-serif; }
.buffer-wrap p { margin: 10px 0 6px; color: var(--muted); font-size: 0.82rem; }
.buffer-buttons { display: grid; grid-template-columns: repeat(4, minmax(0, 1fr)); gap: 8px; }
.buffer { border: 1px solid var(--border); background: var(--input); color: var(--muted); border-radius: 8px; padding: 9px 0; cursor: pointer; font: 700 0.86rem Orbitron, sans-serif; }
.buffer.active { border-color: var(--amber); background: #f3b03e14; color: var(--amber); }
.result-grid { display: grid; grid-template-columns: repeat(3, minmax(0, 1fr)); gap: 10px; margin-bottom: 12px; }
.metric { background: #131a25; border: 1px solid var(--border); border-radius: 12px; text-align: center; padding: 12px; }
.metric p { margin: 0; color: var(--muted); font-size: 0.72rem; text-transform: uppercase; letter-spacing: 0.08em; }
.metric h3 { margin: 6px 0; font: 900 clamp(1.3rem, 3vw, 2rem) Orbitron, sans-serif; }
.metric small { color: var(--muted); font-size: 0.76rem; }
.metric.warn h3 { color: var(--amber); } .metric.info h3 { color: var(--cyan); } .metric.good h3 { color: var(--green); } .metric.good.negative h3 { color: var(--red); }
.toggle { width: 100%; border: 1px solid var(--border); border-radius: 9px; background: transparent; color: var(--muted); text-transform: uppercase; letter-spacing: 0.08em; font: 700 0.78rem Rajdhani, sans-serif; padding: 8px 10px; cursor: pointer; }
.toggle span { display: inline-block; transition: transform 0.2s; } .toggle[aria-expanded='true'] span { transform: rotate(180deg); }
.breakdown-panel { max-height: 0; overflow: hidden; transition: max-height 0.25s ease; } .breakdown-panel.open { max-height: 340px; }
.row { display: flex; justify-content: space-between; color: var(--muted); margin-bottom: 5px; font-size: 0.9rem; gap:8px; }
.row strong { color: var(--text); font-family: Orbitron, sans-serif; } .row strong.cost { color: var(--red); } .row strong.revenue { color: var(--cyan); } .row strong.profit-pos { color: var(--green); } .row strong.profit-neg { color: var(--red); }
.row.total { border-top: 1px solid var(--border); padding-top: 7px; margin-top: 8px; font-weight: 700; }
.actions { display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 10px; }
.btn { border-radius: 10px; cursor: pointer; text-transform: uppercase; letter-spacing: 0.08em; padding: 10px 10px; font: 700 0.82rem Rajdhani, sans-serif; border:1px solid var(--border); background:#1a2231; color:var(--text); }
.btn.primary { background: #2fe8e014; color: var(--cyan); border: 1px solid var(--cyan); }
.btn.primary:disabled { opacity: 0.45; cursor: not-allowed; }
.btn.primary.copied { background: var(--cyan); color: #051114; }
.btn.secondary { background: transparent; color: var(--muted); border: 1px solid var(--border); }
.sub-nav { display:flex; gap:8px; margin-bottom:10px; flex-wrap:wrap; }
.sub-btn { border:1px solid var(--border); background:#171f2c; color:var(--muted); border-radius:8px; padding:8px 12px; cursor:pointer; font-weight:700; }
.sub-btn.active { border-color:var(--cyan); color:var(--cyan); }
.kpi-grid { display:grid; grid-template-columns: repeat(4,minmax(0,1fr)); gap:8px; margin-bottom:12px; }
.kpi { background:#101722; border:1px solid var(--border); border-radius:10px; padding:8px; }
.kpi .label { color:var(--muted); font-size:.75rem; } .kpi .value { font:900 1.05rem Orbitron,sans-serif; }
.toolbar { display:grid; grid-template-columns:2fr 1fr 1fr auto auto; gap:8px; margin-bottom:10px; }
.table { width:100%; border-collapse: collapse; font-size:.9rem; }
.table th,.table td { border-bottom:1px solid var(--border); padding:7px 4px; text-align:left; }
.badge { padding:2px 8px; border-radius:999px; font-size:.72rem; border:1px solid var(--border); }
.badge.overdue { color:var(--red); border-color:#f45b5b66; } .badge.high { color:var(--amber); border-color:#f3b03e66; } .badge.bin { color:var(--cyan); border-color:#2fe8e066; }
.status-select { padding:5px 7px; border-radius:8px; background:var(--input); color:var(--text); border:1px solid var(--border); }
.stack { display:grid; gap:10px; } .two-col { display:grid; grid-template-columns:2fr 1fr; gap:10px; }
.mini-actions { display:flex; flex-wrap:wrap; gap:8px; margin:8px 0; } .mini-actions .btn { padding:7px 10px; font-size:.75rem; }
.toast { position: fixed; left: 50%; bottom: 20px; transform: translateX(-50%) translateY(20px); opacity: 0; transition: 0.2s ease; padding: 9px 16px; border-radius: 999px; background: var(--cyan); color: #061116; font-weight: 700; }
.toast.show { opacity: 1; transform: translateX(-50%) translateY(0); }
@media (max-width: 900px) {
  .kpi-grid, .result-grid, .grid.two, .grid.three, .toolbar, .two-col { grid-template-columns:1fr; }
  .topbar { grid-template-columns:auto 1fr; }
  .build-tag { grid-column:1 / span 2; justify-self:start; }
  .auth-row { grid-template-columns:1fr; }
}
