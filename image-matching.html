<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>RNG Society | Image Matcher Lab ?? LIVE</title>
    <style>
      body { font-family: Arial, sans-serif; background:#0f172a; color:#e2e8f0; margin:0; }
      main { max-width: 980px; margin: 0 auto; padding: 20px; }
      .card { background:#1f2937; border:1px solid #334155; border-radius:12px; padding:16px; margin-bottom:16px; }
      h1,h2 { margin:0 0 10px; }
      .row { display:flex; gap:12px; flex-wrap:wrap; align-items:center; }
      input,button { padding:10px; border-radius:8px; border:1px solid #334155; background:#0b1220; color:#e2e8f0; }
      button { cursor:pointer; background:#1d4ed8; border:none; }
      button.secondary { background:#334155; }
      .muted { color:#94a3b8; font-size:14px; }
      #results { display:grid; gap:10px; }
      .result { display:flex; gap:10px; align-items:center; background:#0b1220; border:1px solid #334155; border-radius:10px; padding:8px; }
      .thumb { width:64px; height:64px; object-fit:cover; border-radius:6px; border:1px solid #334155; }
      .score { font-weight:bold; }
      .ok { color:#22c55e; }
      .warn { color:#f59e0b; }
      .danger { color:#ef4444; }
      .hidden { display:none; }
    </style>
  </head>
  <body>
    <main>
      <h1>Image Matcher Lab ?? LIVE</h1>
      <p class="muted">Phase 1: local perceptual image matching (no OCR). Build your own reference DB, then query a photo and get top matches.</p>

      <section class="card">
        <h2>1) Build / Update Local Reference Database</h2>
        <p class="muted">Choose a folder of reference images (cards, labels, products). Nothing uploads; all matching runs in-browser.</p>
        <div class="row">
          <input id="dbFolder" type="file" accept="image/*" webkitdirectory multiple />
          <button id="buildDbBtn">Build DB</button>          <button id="loadPokemonDbBtn" class="secondary">Load Pokemon DB (2000)</button>
          <button id="clearDbBtn" class="secondary">Clear DB</button>
        </div>
        <p id="dbStatus" class="muted">No database loaded yet.</p>
      </section>

      <section class="card">
        <h2>2) Match Query Image</h2>
        <div class="row">
          <input id="queryFile" type="file" accept="image/*" capture="environment" />
          <button id="matchBtn">Find Best Matches</button>
        </div>
        <p id="matchStatus" class="muted">Upload an image to start matching.</p>
      </section>

      <section class="card">
        <h2>Top Matches</h2>
        <div id="results"></div>
      </section>
    </main>

    <script type="module" src="./image-matching.js"></script>
  </body>
</html>


